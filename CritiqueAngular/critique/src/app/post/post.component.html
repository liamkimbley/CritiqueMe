<!-- Sidebar -->
<!-- Link to Sidebar function information: https://material.angular.io/components/sidenav/api-->
<mat-sidenav-container class="left-container" (backdropClick)="close('backdrop')" [style.marginTop.px]="mobileQuery.matches ? 56 : 0">
  <mat-sidenav #sidenav [fixedInViewport]="mobileQuery.matches" fixedTopGap="56" (keydown.escape)="close('escape')"
    disableClose>
    <div class="container-fluid" id="sidebarListItems">
      <p><button mat-raised-button color="accent" (click)="close('toggle button')">Dismiss</button></p>

      <div *ngFor="let item of categories">
        <div id="sidebarListItem">
          <button mat-raised-button color="primary" (click)="selectedCategory = item" (click)="close('toggle button')">{{item.name}}</button>
        </div>
      </div>
    </div>

  </mat-sidenav>
  <mat-sidenav-content>
    <div class="container" id="postsContainer">
        <p><button mat-raised-button color="accent" (click)="sidenav.open()"> Search Categories</button></p>
<!-- Sidebar page content: everything wanted on the page goes in here -->


      <div *ngIf="selected">
        <button mat-raised-button color="primary" (click)="goBack()">Back</button>
      </div>

      <!-- display list of posts -->
      <div *ngIf="!selected">
        <div id="postCards" *ngFor="let post of posts | category: selectedCategory">
          <mat-card class="postCard">
            <mat-card-header>
              <div mat-card-avatar class="headerImage"></div>
              <mat-card-title>{{post.title}}</mat-card-title>
            </mat-card-header>
            <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu" id="postImg">
            <mat-card-content>
              <p>
                {{post.content}}
              </p>
              <!-- <p>
                {{post.media}}
              </p> -->
            </mat-card-content>
            <mat-card-actions>
              <button mat-raised-button color="primary" (click)="displaySelected(post)">View More</button>
            </mat-card-actions>
          </mat-card>
        </div>
      </div>

      <!-- display single post -->
      <div *ngIf="selected" class="postTable">
        <table>
          <tr>
            <th>{{selected.title}}</th>
          </tr>
          <tr>
            <td>{{selected.content}}</td>
          </tr>
          <!-- <tr>
            <td>{{selected.media}}</td>
          </tr> -->
          <tr>
            <td>{{selected.createdDate | date: 'fullDate'}}</td>
          </tr>
          <tr>
            <td>Comments: </td>
          </tr>
        </table>
        <table *ngFor="let c of selected.comments" class="commentTable">
          <tr>
            <td>{{c.content}}</td>
          </tr>
          <tr>
            <td>{{c.createdAt | date: 'fullDate'}}</td>
          </tr>
        </table>
        <!-- <button class="btn-outline-primary" (click)="" >Comment</button> -->
        <!-- <button class="btn-outline-primary" (click)="addPost(selected)" >Make Your Own Post</button> -->

        <!-- display comments for single post -->
        <!--  not added yet -->

        <!-- tag for comments html -->
        <div>
          <app-comment></app-comment>
        </div>
      </div>

<!-- Sidebar content -->
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
<!-- Sidebar -->
